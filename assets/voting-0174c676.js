import"https://unpkg.com/@workadventure/scripting-api-extra@^1/dist/bundle.js";async function o(){try{const e=await fetch("https://poll.toekomst.school/reset",{method:"POST",body:JSON.stringify({}),headers:{"Content-Type":"application/json",Accept:"application/json"}});if(!e.ok)throw new Error(`Error! status: ${e.status}`);return await e.json()}catch(e){return e instanceof Error?(console.log("error message: ",e.message),e.message):(console.log("unexpected error: ",e),"An unexpected error occurred")}}console.log("Script started successfully");WA.onInit().then(async()=>{console.log("Scripting API ready"),console.log("Player tags: ",WA.player.tags),await WA.players.configureTracking({players:!0,movement:!1}),WA.room.onEnterLayer("zones/yellow").subscribe(()=>{WA.state.voteY++,console.log(WA.state.voteY)}),WA.room.onEnterLayer("zones/green").subscribe(()=>{WA.state.voteG++,console.log(WA.state.voteG)}),WA.room.onEnterLayer("zones/blue").subscribe(()=>{WA.state.voteB++,console.log(WA.state.voteB)}),WA.room.onEnterLayer("zones/red").subscribe(()=>{WA.state.voteR++,console.log(WA.state.voteR)}),WA.room.onEnterLayer("visibleZones/reset").subscribe(()=>{WA.state.voteY=0,WA.state.voteG=0,WA.state.voteB=0,WA.state.voteR=0,o()}),console.log("Scripting API Extra ready")}).catch(e=>console.error(e));
//# sourceMappingURL=voting-0174c676.js.map
